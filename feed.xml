<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2017-03-07T10:15:23+08:00</updated><id>http://localhost:4000/</id><title type="html">PeachRain</title><subtitle>只是一名普通的90后程序员，对知识有着强烈的渴望，有毅力的摩羯座男生。\n 只是一名IOS开发者，主要使用swift,喜欢捣鼓捣鼓React,懂一点前后端小知识。
</subtitle><entry><title type="html">我是PeachRain</title><link href="http://localhost:4000/%E7%AE%80%E5%8E%86.html" rel="alternate" type="text/html" title="我是PeachRain" /><published>2017-03-06T18:05:48+08:00</published><updated>2017-03-06T18:05:48+08:00</updated><id>http://localhost:4000/%E7%AE%80%E5%8E%86</id><content type="html" xml:base="http://localhost:4000/%E7%AE%80%E5%8E%86.html">&lt;p&gt;姓名:PeachRain
 年龄：27
 我的gitHub&lt;a href=&quot;http://www.jianshu.com/u/54ec55bb6b32&quot;&gt;git-Hub&lt;/a&gt;
 我的简书&lt;a href=&quot;http://www.jianshu.com/u/54ec55bb6b32&quot;&gt;jian-shu&lt;/a&gt;&lt;/p&gt;</content><author><name>陶思雨</name><email>taosiyu19@126.com</email></author><category term="简历" /><summary type="html">姓名:PeachRain 年龄：27 我的gitHubgit-Hub 我的简书jian-shu</summary></entry><entry><title type="html">从intrinsicContentSize到自动调整布局self-sizing</title><link href="http://localhost:4000/%E4%BB%8EintrinsicContentSize%E5%88%B0%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E5%B8%83%E5%B1%80self-sizing.html" rel="alternate" type="text/html" title="从intrinsicContentSize到自动调整布局self-sizing" /><published>2017-03-06T12:05:48+08:00</published><updated>2017-03-06T12:05:48+08:00</updated><id>http://localhost:4000/%E4%BB%8EintrinsicContentSize%E5%88%B0%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E5%B8%83%E5%B1%80self-sizing</id><content type="html" xml:base="http://localhost:4000/%E4%BB%8EintrinsicContentSize%E5%88%B0%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E5%B8%83%E5%B1%80self-sizing.html">&lt;h1 id=&quot;1-intrinsic-content-size&quot;&gt;1. intrinsic Content Size&lt;/h1&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;什么是intrinsicContentSize？这个属性是在哪里的？
刚开始看到这个肯定会有很多的疑问。
本人接触到这个也是因为功能的需要。（一个自动适应cell内容的collectionview）。
在刚编程的时候，第一想到的还是手动适应，计算contentSize然后设置frame适应内容，但是这样给人的感觉还是有点low啊.
果断换其他方法。直到发现了intrinsicContentSize这个便捷的属性，简直不要太兴奋。
那到底什么是intrinsicContentSize呢？
Intrinsic Contenet Size – Intrinsic Content Size：固有的大小。
在AutoLayout中，它作为UIView的属性（不是语法上的属性），意思就是说我知道自己的大小，如果你没有为我指定大小，我就按照这个大小来。
比如：大家都知道在使用AutoLayout的时候，UILabel是不用指定尺寸大小的，只需指定位置即可，就是因为，只要确定了文字内容，字体等信息，它自己就能计算出大小来。
同样的UILabel，UIImageView，UIButton等这些组件及某些包含它们的系统组件都有 Intrinsic Content Size 属性，也就说他们都有自己计算size的能力。
同样的会发现UICollectionView也有这个属性。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;利用intrinsiccontentsize自动计算size&quot;&gt;利用intrinsicContentSize自动计算size&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;那如何利用intrinsicContentSize呢。
既然intrinsicContentSize能够自己计算，当然我们也可以手动指定他的大小，这样会有
人说。那不还是自己计算吗？
其实不是，当我们改变UICollectionView中cell的约束和内容时，UICollectionView是会自动计算size适应的，这就是contentSize，每当改变contentSize也会随着改变，计算UICollectionView都帮我们算好了，我们就可以利用contentSize来设置内容的size.
使用在UICollectionView中的 -(CGSize)intrinsicContentSize: 方法。 
并且在需要改变这个值的时候调用：invalidateIntrinsicContentSize 方法，通知系统这个值改变了，如下&lt;/p&gt;
  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//重写该方法返回一个size
override func intrinsicContentSize() -&amp;gt; CGSize {
        //此处你可以返回一个自己设定的size值，当然也可以返回contentSize
        return self.contentSize
    }
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;
  &lt;p&gt;但是有人比较懒不想主动调用方法，也有更好的自动调用的方法，就是利用layoutSubviews&lt;/p&gt;
  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//自定义的UICollectionView
class DynamicCollectionView: UICollectionView {
    override func layoutSubviews() {
        super.layoutSubviews()
        //此处加判断如果相等就不更新size
        if !CGSizeEqualToSize(self.bounds.size, intrinsicContentSize()) {
            invalidateIntrinsicContentSize()
        }
    }
    override func intrinsicContentSize() -&amp;gt; CGSize {
        //这里返回自定义的UICollectionView自己的属性contentSize
        return self.contentSize
    }
}
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;
  &lt;p&gt;这样的话每当UICollectionView内部的内容发生改变，他都会自己适应内容的大小达到自适应的目的.当然前提是不能添加高度的约束，添加了高度约束intrinsicContentSize会失效啊，当然你也可以自定义UILabel等，只要有intrinsicContentSize属性的都可以设置自动适应的能力。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;注意&quot;&gt;注意：&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;还有当我们使用自己自定义的UICollectionView的时候，每当刷新数据调用reloadData()方法的时候：
务必调用 collectionViewLayout.invalidateLayout()方法，不然可能会发生下面的错误&lt;/p&gt;
  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UICollectionView received layout attributes for a cell with an index path that does not exist
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;
  &lt;p&gt;当然，由于还没有特别深入的了解写的不是很详细，其实还有很多有趣的属性，比如：
invalidateItemsAtIndexPaths: 
invalidateSupplementaryElementsOfKind:atIndexPaths: 
invalidateDecorationElementsOfKind:atIndexPaths:
的：
invalidatedItemIndexPaths 
invalidatedSupplementaryIndexPaths 
invalidatedDecorationIndexPaths 
等等有待研究。&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>陶思雨</name><email>taosiyu19@126.com</email></author><category term="IOS,swift" /><summary type="html">1. intrinsic Content Size 什么是intrinsicContentSize？这个属性是在哪里的？ 刚开始看到这个肯定会有很多的疑问。 本人接触到这个也是因为功能的需要。（一个自动适应cell内容的collectionview）。 在刚编程的时候，第一想到的还是手动适应，计算contentSize然后设置frame适应内容，但是这样给人的感觉还是有点low啊. 果断换其他方法。直到发现了intrinsicContentSize这个便捷的属性，简直不要太兴奋。 那到底什么是intrinsicContentSize呢？ Intrinsic Contenet Size – Intrinsic Content Size：固有的大小。 在AutoLayout中，它作为UIView的属性（不是语法上的属性），意思就是说我知道自己的大小，如果你没有为我指定大小，我就按照这个大小来。 比如：大家都知道在使用AutoLayout的时候，UILabel是不用指定尺寸大小的，只需指定位置即可，就是因为，只要确定了文字内容，字体等信息，它自己就能计算出大小来。 同样的UILabel，UIImageView，UIButton等这些组件及某些包含它们的系统组件都有 Intrinsic Content Size 属性，也就说他们都有自己计算size的能力。 同样的会发现UICollectionView也有这个属性。 利用intrinsicContentSize自动计算size</summary></entry><entry><title type="html">欢迎来到PeachRain</title><link href="http://localhost:4000/welcome-to-tiancaiTaosiyu1.html" rel="alternate" type="text/html" title="欢迎来到PeachRain" /><published>2017-02-27T18:05:48+08:00</published><updated>2017-02-27T18:05:48+08:00</updated><id>http://localhost:4000/welcome-to-tiancaiTaosiyu1</id><content type="html" xml:base="http://localhost:4000/welcome-to-tiancaiTaosiyu1.html">&lt;p&gt;这里现在只是一个普通的小博客，还处于初级阶段，以后还会有重大的更新
 如果等不及那也要等，
 可以关注我的简书&lt;a href=&quot;http://www.jianshu.com/u/54ec55bb6b32&quot;&gt;jian-shu&lt;/a&gt;
 或者加我的个人微信公众号：taothinkrain的不可思议世界
 &lt;img src=&quot;/images/code.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name>陶思雨</name><email>taosiyu19@126.com</email></author><summary type="html">这里现在只是一个普通的小博客，还处于初级阶段，以后还会有重大的更新 如果等不及那也要等， 可以关注我的简书jian-shu 或者加我的个人微信公众号：taothinkrain的不可思议世界</summary></entry></feed>